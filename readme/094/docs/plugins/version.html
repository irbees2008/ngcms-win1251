<html>
	<head>
		<script type="text/javascript" src="../highlighter/scripts/shCore.js"></script>
		<script type="text/javascript" src="../highlighter/scripts/shBrushXml.js"></script>
		<link type="text/css" rel="stylesheet" href="../highlighter/styles/shCoreDefault.css"/>
		<script type="text/javascript">SyntaxHighlighter.all();</script>
		<link media="screen" href="../style/styles.css" type="text/css" rel="stylesheet" />
	</head>
	<body style="border-left: #edece4 1px solid;">
		<div class="content">
			<h3>Файл-описание плагина `version`</h3>
			<div class="text">
				Каждый плагин обязан содержать собственный файл-содержание. Именно с его помощью ядро CMS определяет идентификатор плагина, его название, возможности, набор обрабатываемых событий и многое другое.
			</div>
			<div class="info-block-1" style="margin:10px 0">
				Разработчикам следует принять во внимание, что набор обрабатываемых событий считывается только в момент активации плагина. Поэтому если в процессе разработки плагина ему добавлен дополнительный <b>action</b>, то для фактической активации дополнительных функций необходимо отключить и заново включить плагин.
			</div>
			<h3>Структура файла-описания</h3>
			<div class="text">
				Все строки, начиинающиеся с символа <b>;</b> (точка с запятой) или пустые строки (состоящие только из пробелов) считаются комментариями.
			</div>
			<div class="text">
				<p>Файл-описание содержит набор обязательных и необязательных переменных, которые используются ядром CMS при работе.</p>
				<p>
					Формат записи строки переменной:
					<pre class="brush: html;">variable_name: variable_value</pre>
					где:
					<ul class="level-1">
						<li><b>variable_name</b> - Наименование переменой.</li>
						<li><b>variable_value</b> - Значение переменой.</li>
					</ul>
					Регистр записи переменной не важен, но для удобства восприятия лучше использовать вариант написания, указанный в этом документе.<br/>
				</p>
			</div>
			<h3>Переменные файла-описания</h3>
			<div class="text">
				Вы можете использовать следующие переменные:
				<table class="table">
					<thead>
						<tr>
							<th>Обязательная</th>
							<th>Наименование</th>
							<th>Описание</th>
							<th>Комментарий</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>+</td>
							<td>ID</td>
							<td>Уникальный идентификатор плагина</td>
							<td>UID может содержать только латинские символы и символы подчёркивания и тире. Обычно UID и наименование каталога, в котором находится плагин, совпадают.</td>
						</tr>
						<tr>
							<td>+</td>
							<td>Name</td>
							<td>Наименование плагина</td>
							<td>Наименование отображается в списке плагинов</td>
						</tr>
						<tr>
							<td>+</td>
							<td>Version</td>
							<td>Версия плагина</td>
							<td>Отображается в спике плагинов, также используется для механизма определения последней версии.<br/>Должна записываться в формате [<b>число.число</b>], например: <b>0.26</b></td>
						</tr>
						<tr>
							<td>+</td>
							<td>Type</td>
							<td>Тип плагина</td><td>Допустимые варианты: <b>plugin</b>, <b>auth</b>, <b>widget</b>. В настоящее время используюся только первые два, при этом тип <b>auth</b> применим только для плагинов авторизации</td>
						</tr>
						<tr>
							<td></td>
							<td>Acts</td>
							<td>Список перехватываемых действий</td>
							<td>Если ваш плагин состоит из одного запускающего файла, то вы можете использовать эту переменную. В ней прописывается через запятую список <b>action</b>'ов, которые перехватываются плагином (используется совместно с переменной <b>file</b>)</td>
						</tr>
						<tr>
							<td></td>
							<td>File</td>
							<td>Наименование файла плагина</td>
							<td>Здесь указывается имя файла вашего плагина. Именно он будет подгружаться в том случае, когда ядро CMS захочет передать управление вашему плагину (используется совместно с переменной <b>acts</b>)</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Config</td>
							<td>Имя файла-конфигуратора</td>
							<td>Имя файла, ответственного за создание админ-панели плагина (доступной из админ-панели CMS)</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Install</td>
							<td>Имя файла-инсталлера</td>
							<td>Имя файла, ответственного за установку плагина</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Deinstall</td>
							<td>Имя файла-инсталлера</td>
							<td>Имя файла, ответственного за удаление плагина</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Deinstall</td>
							<td>Имя файла-инсталлера</td>
							<td>Имя файла, ответственного за удаление плагина</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Description</td>
							<td>Описание плагина</td>
							<td>Отображается в списке плагинов</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Information</td>
							<td>Детальное описание плагина</td>
							<td>Более детальное описание плагина, но отображаемое только в процессе установки CMS</td>
						</tr>
							<tr>
							<td>&nbsp;</td>
							<td>Preinstall</td>
							<td>Поведение при установке</td>
							<td>Флаг, определяющий поведение плагина при установке:<br /><b>yes</b> - плагин в любом случае устанавливается в процессе установке CMS<br /><b>no</b> - плагин в любом случае <u>не</u> устанавливается в процессе установки CMS<b>default_yes</b> - пользователь может самостоятельно выбрать нужен ли ему плагин, но по умолчанию выбран вариант "устанавливать"<br />Если переменная не задана, то пользователь может самостоятельно решить нужен ли ему плагин, по умолчанию галочка не установлена</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Author</td>
							<td></td>
							<td>Имя автора, отображается в списке плагина</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Author_URI</td>
							<td></td>
							<td>Ссылка на сайт автора</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Permanent</td>
							<td>Флаг неотключаемого плагина</td>
							<td>Если вы установите эту переменную в значение <b>yes</b>, то этот плагин будет невозможно отключить в админ-панели</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Actions</td>
							<td>Расширенный список перехватываемых действий</td>
							<td>В случае, если ваш плагин состоит из нескольких файлов, то для описания перехватываемых действий используется именно эта переменная (<i>её можно указывать <u>несколько раз</u></i>).<br/>Формат записи: <b>action</b>[, <b>action</b>[,...]];<b>filename</b></td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>Library</td>
							<td>Поддерживаемые плагином библиотеки</td>
							<td>Некоторые плагины предоставляют для других плагинов доступ к своим библиотекам при помощи функции <b>LoadPluginLibrary()</b>, формат записи переменной - аналогичен формату переменной <b>actions</b> (<i>и также возможно множественное указание переменной</i>)<br />Формат записи: <b>libname</b>[, <b>libname</b>[,...]];<b>filename</b></td>
						</tr>
					</tbody>
				</table>
			</div>
			<h3>Пример файла-описания (для плагина comments)</h3>
			<div class="text">
				
<pre class="brush: html;">
;
; Version description file for plugin @@ Next Generation CMS
;

ID: comments
Name: User comments
Version: 0.01
Acts: news_short, news_full, ppages, editnews, editnews_form, news
File: comments.php
Config: config.php
Install: install.php
Deinstall: uninstall.php
Type: plugin
Description: Комментарии пользователей
Author: Vitaly A. Ponomarev
Author_URI: http://ngcms.ru/
Title: Комментарии пользователей
Information: Реализует функционал работы с комментариями
Preinstall: default_yes
Library: lib; inc/comments.lib.php
</pre>
				
			</div>
			<div id="footer">
				<b>Документация находится на стадии разработки!</b> Если вы хотите помочь с наполнением, обращайтесь:<br/>
				ICQ: <b>145368811</b> (Виталий) | Jabber: <b>vitaly@ngcms.ru</b>
			</div>
		</div>
	</body>
</html>