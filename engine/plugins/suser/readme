# =========================================================================== #
# NG CMS // Плагины //Поиск и сортировка пользователей                        #
# =========================================================================== #

Плагин позволяет создать на вашем сайте две страницы:
  - страница сортировки пользователей: /plugin/suser/
  - страница поиска пользователей: /plugin/suser/search/

Вы можете указать собственные адреса страниц плагина. Для этого необходимо: 
  1. включить ЧПУ в настройках плагина, 
  2. прописать параметры URL для плагина suser в "Управление форматом ссылок".

Дополнительные поля пользователей
------------------------------------------------
  - если включен плагин xfields, на страницах поиска и сортировки доступны дополнительные поля пользователей,
  - поддерживаются дополнительные поля типа "текст" и "выбор значения",
  - для корректной работы плагина дополнительные поля должны храниться в режиме "Персональное поле в БД".

[TWIG] userlist.tpl
------------------------------------------------
Шаблон используется для вывода списка пользователей и формы сортировки.
Переменные в шаблоне используются в виде {{ variable }}

Список переменных:
  * xflist  - массив всех доп. полей пользователей:
    * id    - id поля, 
    * title - название поля;
  * entries - массив, содержащий информацию о найденных пользователях:
    * id            - дата регистрации
    * profile       - имя пользователя (логин)
    * profile_link  - ссылка на профиль пользователя
    * status        - статус (id группы пользователя)
    * news          - количество новостей
    * com           - количество комментариев
    * reg           - дата регистрации
    * email         - указанный при регистрации email
    * last          - дата последнего входа
    * from          - поле "откуда"
    * xfields - массив, содержащий информацию из дополнительных полей (в формате "ключ => значение"):
      *xfields_имя_поля => значение_поля

[TWIG] usersearch.tpl
------------------------------------------------
Шаблон используется для вывода формы поиска по пользователям и выдачи результатов.
Переменные в шаблоне используются в виде {{ variable }}

Список переменных:
  * xflist  - массив всех доп. полей пользователей:
    * id    - id поля, 
    * title - название поля;
  * boxlist - массив для выведения выпадающих списков select (для поля from и всех доп. полей): 
    * from        => html-код списка,
    * id_доп_поля => html-код списка;		
  * entries	- массив, содержащий информацию о найденных пользователях:
    * id            - дата регистрации
    * profile       - имя пользователя (логин)
    * profile_link  - ссылка на профиль пользователя
    * status        - статус (id группы пользователя)
    * news          - количество новостей
    * com           - количество комментариев
    * reg           - дата регистрации
    * email         - указанный при регистрации email
    * last          - дата последнего входа
    * from          - поле "откуда"
    * xfields - массив, содержащий информацию из дополнительных полей (в формате "ключ => значение"):
      *xfields_имя_поля => значение_поля
  * searched  - флаг, содержит false, если пользователь еще не нажимал "Найти" или нажал "Сброс"

[TWIG] information.tpl
------------------------------------------------
Шаблон используется для вывода служебной информации при неправильных параметрах поиска.

(с) Rostunov Sergey, 2013 - версия 0.1
(с) web-padavan aka Zemlemer, 2015 - версии 0.2 - 0.4